# Q. 프로세스와 스레드의 차이점
<details>
	<summary>Answer</summary>

프로세스란 실행 중인 프로그램을 의미하며, 운영체제로 부터 자원을 할당받아 동작을 시작하게 됩니다.

반면 스레드는 프로세스로 부터 자원을 할당받아 동작을 시작하게 됩니다. 따라서 모든 스레드는 code, data, heap영역의 메모리 공간을 공유하면서 자신만의 stack, pc register 공간을 가지고 실행됩니다.


</details>

<details>
	<summary>이해하기</summary>

## Reference
*  [스레드 사용이유](https://www.crocus.co.kr/1510) 
*  [스레드 사용이유2](https://beststar-1.tistory.com/6#%EC%8A%A4%EB%A0%88%EB%93%9C_%EC%82%AC%EC%9A%A9_%EC%9D%B4%EC%9C%A0) 
*  [컨텍스트 스위칭](https://beststar-1.tistory.com/26) 
  
## 내용

### 멀티 스레드

* 장점
	* code, data, heap영역을 공유하기 때문에 메모리 공간 절약, 스레드 간 통신비용 절감, 컨텍스트 스위칭으로 인한 오버헤드를 보완할 수 있다.
	* 즉, 멀티 프로세스에 비해 빠르게 처리할 수 있다.

* 단점
	* 공유자원을 사용하기 때문에, 하나의 쓰레드에서 문제가 발생한다면 모든 쓰레드가 영향을 받는다.
	* 또한 공유자원에 대한 동시성 문제도 존재할 수 있다.

### 멀티 프로세스

* 장점
	* 독립적인 처리를 보장할 수 있다. 하나의 프로세스에서 문제가 발생해도 나머지 프로세스에는 영향을 미치지 않는다.

* 단점
	* 멀티 스레드 환경보다 더 많은 메모리 공간을 사용하고, 그로인해 컨텍스트 스위칭으로 인한 오버헤드가 더 크게 발생한다.

</details>

# Q. 컨텍스트 스위칭에대해 설명해주세요.
<details>
	<summary>Answer</summary>

여러개의 프로세스가 동시에 처리될 때, CPU가 해당 프로세스를 실행하기 위한 정보(컨텍스트)를 교체하는 과정을 의미합니다.

컨텍스트 스위칭이 발생시 CPU가 동작하기 때문에 다른 프로세스들은 대기하는 상태가 됩니다. 따라서 잦은 컨텍스트 스위칭은 성능 저하의 원인이 될 수 있습니다.


</details>

<details>
	<summary>이해하기</summary>

## Reference
* [컨텍스트 스위칭](https://beststar-1.tistory.com/26) 
* [프로세스 제어 블록 - 위키백과, 우리 모두의 백과사전](https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4_%EC%A0%9C%EC%96%B4_%EB%B8%94%EB%A1%9D)
* [process control block operating system](https://techmyeducation.blogspot.com/2019/01/process-control-block-operating-system.html)

## 내용

### 컨텍스트란 ?
* CPU가 해당 프로세스를 실행하기 위한 정보.
* 각 프로세스는 PCB(Process Control Block)에 컨텍스트를 저장하게 된다.

###  PCB에 저장되는 정보
![image](https://user-images.githubusercontent.com/26343023/157274635-475d26ea-f1eb-4fb1-86c0-d11e2f76b20e.png)

* Process ID
	* 프로세스를 식별할 수 있는 고유 ID 값
* 프로세스 상태
	* 생성, 준비, 실행, 대기, 완료 상태가 존재 함.
* PC(Program Counter)
	* 해당 프로세스의 다음 명령어 주소를 가리키고 있다.
* CPU 레지스터 및 일반 레지스터
* CPU 스케줄링 정보 
	* 우선 순위, 최종 실행시각, CPU 점유시간 등
* 메모리 관리 정보
	* 해당 프로세스의 주소 공간 등
* 프로세스 계정 정보
	* 페이지 테이블, 스케줄링 큐 포인터, 소유자, 부모 등
* 입출력 상태 정보
	* 프로세스에 할당된 입출력장치 목록, 열린 파일 목록 등


</details>


# Q. 데드락 현상과 발생조건
<details>
	<summary>Answer</summary>

데드락이란 교착 상태라는 의미로, 2개 이상의 프로세스에서 서로 다른 프로세스의 자원을 무한정 대기하는 상태에 빠져, 아무런 작업도 수행되지 못하는 상황 입니다.

데드락은 상호배제, 점유대기, 비선점, 순환대기 4가지 조건을 모두 만족하는 경우 발생하게 됩니다.


</details>

<details>
	<summary>이해하기</summary>

## Reference

## 내용

### 임계구역
멀티 프로세스 환경에서 동시에 접근했을 때, 문제가 발생할 수 있는 코드영역을 의미한다.
따라서, 임계구역은 상호배제를 해주어 동시 접근을 할 수 없게 제어해야 한다.

### 데드락의 발생조건
* 상호배제
	* 상호배제란 공유 자원이 동시에 사용되는 것을 피하기 위해 제어하는 것. 
		* 대표적으로 데커 알고리즘이 있다.
		* 동기화 기법을 통해 상호배제를 실현할 수 있다. (뮤텍스, 세마포어 사용)
* 점유대기
	* 하나 이상의 공유 자원을 사용 중인 상태로, 다른 프로세스에 할당된 자원을 점유하기 위해 대기하는 상태
* 비선점
	* 사용중인 공유 자원은, 해제하기 전까지 강제로 빼앗을 수 없는 상태.
* 순환대기
	* 대기 프로세스의 집합이 순환 형태로 자원을 대기하는 상태. 무한정 대기상태에 빠진다.

</details>

# Q. 데드락의 해결방법
<details>
	<summary>Answer</summary>

데드락 현상은 예방, 회피, 탐지 기법 3가지 기법으로 해결할 수 있습니다.

예방이란 4가지 조건이 발생하지 않도록 발생 가능성을 차단하는 것 입니다.

회피기법은 은행원 알고리즘과 같은 회피 알고리즘을 적용해, 다른 프로세스에게 자원을 할당하더라도 시스템이 항상 안정 상태(Safe State)를 유지할 수 있도록 하는 것 입니다.

탐지 및 회복은 현재 시스템의 자원 할당 상태를 통해 데드락을 탐지하고, 알고리즘을 통해 회복하는 기법입니다.

탐지 및 회복은, 매번 탐지 알고리즘이 호출되기 때문에 다른 방법에 비해 많은 자원이 사용된다는 특징을 가지고 있습니다.

</details>

<details>
	<summary>이해하기</summary>

## Reference
* [운영체제 데드락(Deadlock, 교착 상태)이란? | ChanBLOG](https://chanhuiseok.github.io/posts/cs-2/)
  
## 내용

### 데드락의 해결법

* 예방(prevention)
* 회피(avoidance)
* 탐지(detection)

### 예방
: 4가지 조건 중 하나라도 발생하지 않게한다. 즉, 각각의 조건을 방지하여 데드락 발생 가능성을 차단 함.

* 상호배제 방지: 여러 프로세스가 동시에 공유자원에 접근할 수 있도록 함.
	* but 동기화문제가 발생할 수 있다.
* 점유 대기 조건 방지: 프로세스 실행에 필요한 모든 자원을 한꺼번에 점유한 후에 실행한다. 프로세스 실행 도중에 대기하는 상황을 피할 수 있다.
* 비선점 조건 방지: 프로세스가 사용중인 자원을, 다른 프로세스가 선점할 수 있도록 한다.
* 순환 대기 조건 방지: 순환 하지 않도록, 자원을 한 쪽 방향으로 요구하도록 한다.

### 회피
* 프로세스들이 요청하는 모든 자원을, 데드락 없이 처리할 수 있을 때 안정 상태(safe state)라 한다.
* 그리고, 안정 상태에 머물 수 있도록 순서를 정한것을 안전 순서(safe sequence)*라고 한다.
* 반대로 불안정 상태일 때는, 교착상태가 일어나 데드락이 발생할 수 있다.
	* 불안정 상태의 하위 집합이 교착상태.
* 회피 알고리즘을 적용하여, 다른 프로세스에게 자원을 할당하더라도 시스템이 항상 안정 상태(Safe state)를 유지할 수 있도록 한다.
* 유명한 알고리즘이 은행원 알고리즘(Banker’s Algorithm)
	* 미리 결정된 모든 자원들의 최대 할당량을 가지고 시뮬레이션 하여 safe state에 들 수 있는지 검사한다.
	* 그러나 은행원 알고리즘은 미리 최대 자원 요구량을 알아야 하고, 할당할 수 있는 자원 수가 일정해야 하는 등 사용에 있어 제약조건이 많다.

### 탐지(Detection) 및 회복(Recovery)
데드락을 탐지하고, 알고리즘을 통해 회복한다.
* 탐지 기법
	* Allocation, Request, Available등으로 데드락 발생 여부를 탐색. 은행원 알고리즘과 유사하며 현재 시스템의 자원 할당 상태를 가지고 파악한다.
	* 자원 할당 그래프를 통해 탐지.
* 회복 기법
	* 데드락을 발견했다면, 순환 대기에서 벗어나 데드락으로 부터 회복한다.
	* 프로세스를 1개 이상 중단시킨다.
		* 교착 상태의 모든 프로세스를 중단시킬 때: 진행중이던 프로세스의 결과가 폐기 될 수 있다.
		* 하나씩 중단 시킬때마다 탐지 알고리즘으로 회복시킬 때: 매번 탐지 알고리즘이 호출되어 부담이 될 수 있다.
	* 자원을 선점한다
		* 프로세스에 할당된 자원을 선점해서, 교착 상태를 해결할 때까지 그 자원을 다른 프로세스에 할당해 준다.

</details>

# Q. 가상 메모리
<details>
	<summary>Answer</summary>
: content

</details>

<details>
	<summary>이해하기</summary>

## Reference

  
## 내용

* 단편화


</details>
